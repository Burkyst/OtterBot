<%- include('blocks/header', {bot, user, path}) %>
<div class="jumbotron" style="padding-top: 20px;">
  <h1>Song Rank</h1>
  <hr>
  <table class="table table-hover" id="searchTableSongRank">
    <thead>
      <tr>
        <th scope="col" class="text-center">Rank</th>
        <th scope="col" class="text-center">Played</th>
        <th scope="col" class="text-center">Title</th>
        <th scope="col" class="text-center">Woots</th>
        <th scope="col" class="text-center">Mehs</th>
        <th scope="col" class="text-center">Grabs</th>
        <th scope="col" class="text-center">Score</th>
      </tr>
    </thead>
    <tbody>
      <% for (let i = 0; i < rank.length; i++) { %>
      <tr>
        <td class="text-center">
          <%= i + 1 %>
        </td>
        <td class="text-center">
          <%= rank[i].dataValues.count %>
        </td>
        <td class="text-center">
          <%= rank[i].dataValues.author %> - <%= rank[i].dataValues.title %>
        </td>
        <td class="text-center">
          <i style="color:forestgreen" class="fas fa-thumbs-up"></i>
          <%= rank[i].dataValues.totalwoots %>
        </td>
        <td class="text-center">
          <i style="color:red" class="fas fa-thumbs-down"></i>
          <%= rank[i].dataValues.totalmehs %>
        </td>
        <td class="text-center">
          <i style="color:steelblue" class="fas fa-hand-rock"></i>
          <%= rank[i].dataValues.totalgrabs %>
        </td>
        <td class="text-center">
          <%= Math.round(rank[i].dataValues.score) %>
        </td>
      </tr>
      <% } %>
    </tbody>
  </table>
</div>
<script type="text/javascript">
  $('#searchTableSongRank').DataTable({
    "dom": "<'card-body pl-0 pr-0 pt-0'<'row align-items-center'<'col-12 col-md-6'B><'col-6'f>>>" +
      "<'row'<'col-12'tr>>" +
      "<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",

    colReorder: true,
    fixedHeader: true,
    responsive: false,
    "pageLength": 100,
    "autoWidth": true,
    "processing": true,
    "searchHighlight": true,
    "lengthChange": false,
    "ordering": false,

    "select": {
      "style": 'single',
      "blurable": true
    },
  });
</script>
<% include ./blocks/footer %>